{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\Huan Bui\\\\Desktop\\\\amazon-clone\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import React,{useState}from'react';import\"./Payment.css\";import{useStateValue}from'./StateProvider';import CheckoutProduct from'./CheckoutProduct';import{Link}from\"react-router-dom\";import{CardElement,useStripe,useElements}from\"@stripe/react-stripe-js\";import CurrencyFormat from'react-currency-format';import{getBasketTotal}from\"./reducer\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";function Payment(){var _useStateValue=useStateValue(),_useStateValue2=_slicedToArray(_useStateValue,2),_useStateValue2$=_useStateValue2[0],basket=_useStateValue2$.basket,user=_useStateValue2$.user,dispatch=_useStateValue2[1];var _useState=useState(null),_useState2=_slicedToArray(_useState,2),error=_useState2[0],setError=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),disabled=_useState4[0],setDisabled=_useState4[1];var stripe=useStripe();var elements=useElements();var handleSubmit=function handleSubmit(e){// do stripe\n};var handleChange=function handleChange(event){// Listen for changes in the CardElement\n// and display any errors as the customer types their card details\nsetDisabled(event.empty);setError(event.error?event.error.message:\"\");};return/*#__PURE__*/_jsx(\"div\",{className:\"payment\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"payment_container\",children:[/*#__PURE__*/_jsxs(\"h1\",{children:[\"Checkout (\",/*#__PURE__*/_jsxs(Link,{to:\"/checkout\",children:[basket===null||basket===void 0?void 0:basket.length,\" items\"]}),\")\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"payment_section\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"payment_title\",children:/*#__PURE__*/_jsx(\"h3\",{children:\"Delivery Address\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"payment_address\",children:[/*#__PURE__*/_jsx(\"p\",{children:user===null||user===void 0?void 0:user.email}),/*#__PURE__*/_jsx(\"p\",{children:\"123 React Ct\"}),/*#__PURE__*/_jsx(\"o\",{children:\"Charlotte, NC, 69669\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"payment_section\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"payment_title\",children:/*#__PURE__*/_jsx(\"h3\",{children:\"Review items and delivery\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"payment_items\",children:basket.map(function(item){return/*#__PURE__*/_jsx(CheckoutProduct,{title:item.title,image:item.image,price:item.price,rating:item.rating});})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"payment_section\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"payment_title\",children:/*#__PURE__*/_jsx(\"h3\",{children:\"Payment method\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"payment_details\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:\"handleSubmit\",children:[/*#__PURE__*/_jsx(CardElement,{onChange:handleChange}),/*#__PURE__*/_jsx(\"div\",{className:\"payment_priceContainer\",children:/*#__PURE__*/_jsx(CurrencyFormat,{renderText:function renderText(value){return/*#__PURE__*/_jsxs(\"h3\",{children:[\"Order Total: \",value]});},decimalScale:2,value:getBasketTotal(basket),displayType:\"text\",thousandSeparator:true,prefix:\"$\"})})]})})]})]})});}export default Payment;","map":{"version":3,"sources":["C:/Users/Huan Bui/Desktop/amazon-clone/src/Payment.js"],"names":["React","useState","useStateValue","CheckoutProduct","Link","CardElement","useStripe","useElements","CurrencyFormat","getBasketTotal","Payment","basket","user","dispatch","error","setError","disabled","setDisabled","stripe","elements","handleSubmit","e","handleChange","event","empty","message","length","email","map","item","title","image","price","rating","value"],"mappings":"sIAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAO,eAAP,CACA,OAASC,aAAT,KAA8B,iBAA9B,CACA,MAAOC,CAAAA,eAAP,KAA4B,mBAA5B,CACA,OAAQC,IAAR,KAAmB,kBAAnB,CACA,OAASC,WAAT,CAAsBC,SAAtB,CAAiCC,WAAjC,KAAoD,yBAApD,CACA,MAAOC,CAAAA,cAAP,KAA2B,uBAA3B,CACA,OAASC,cAAT,KAA8B,WAA9B,C,wFAEA,QAASC,CAAAA,OAAT,EAAmB,CACf,mBAAmCR,aAAa,EAAhD,sFAAQS,MAAR,kBAAQA,MAAR,CAAgBC,IAAhB,kBAAgBA,IAAhB,CAAuBC,QAAvB,oBAEA,cAA0BZ,QAAQ,CAAC,IAAD,CAAlC,wCAAOa,KAAP,eAAcC,QAAd,eACA,eAAgCd,QAAQ,CAAC,IAAD,CAAxC,yCAAOe,QAAP,eAAiBC,WAAjB,eAEA,GAAMC,CAAAA,MAAM,CAAGZ,SAAS,EAAxB,CACA,GAAMa,CAAAA,QAAQ,CAAGZ,WAAW,EAA5B,CAEA,GAAMa,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAAAC,CAAC,CAAI,CACtB;AAEH,CAHD,CAKA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAAAC,KAAK,CAAI,CAC1B;AACA;AACAN,WAAW,CAACM,KAAK,CAACC,KAAP,CAAX,CACAT,QAAQ,CAACQ,KAAK,CAACT,KAAN,CAAcS,KAAK,CAACT,KAAN,CAAYW,OAA1B,CAAoC,EAArC,CAAR,CACH,CALD,CAOA,mBACI,YAAK,SAAS,CAAC,SAAf,uBACI,aAAK,SAAS,CAAC,mBAAf,wBACI,gDACc,MAAC,IAAD,EAAM,EAAE,CAAC,WAAT,WAAsBd,MAAtB,SAAsBA,MAAtB,iBAAsBA,MAAM,CAAEe,MAA9B,YADd,OADJ,cAKI,aAAK,SAAS,CAAC,iBAAf,wBACI,YAAK,SAAS,CAAC,eAAf,uBACI,wCADJ,EADJ,cAII,aAAK,SAAS,CAAC,iBAAf,wBACI,mBAAId,IAAJ,SAAIA,IAAJ,iBAAIA,IAAI,CAAEe,KAAV,EADJ,cAEI,mCAFJ,cAGI,2CAHJ,GAJJ,GALJ,cAgBI,aAAK,SAAS,CAAC,iBAAf,wBACI,YAAK,SAAS,CAAC,eAAf,uBACI,iDADJ,EADJ,cAII,YAAK,SAAS,CAAC,eAAf,UACKhB,MAAM,CAACiB,GAAP,CAAW,SAAAC,IAAI,qBACZ,KAAC,eAAD,EACI,KAAK,CAAEA,IAAI,CAACC,KADhB,CAEI,KAAK,CAAED,IAAI,CAACE,KAFhB,CAGI,KAAK,CAAEF,IAAI,CAACG,KAHhB,CAII,MAAM,CAAEH,IAAI,CAACI,MAJjB,EADY,EAAf,CADL,EAJJ,GAhBJ,cAiCI,aAAK,SAAS,CAAC,iBAAf,wBACI,YAAK,SAAS,CAAC,eAAf,uBACI,sCADJ,EADJ,cAII,YAAK,SAAS,CAAC,iBAAf,uBAGI,cAAM,QAAQ,CAAC,cAAf,wBACI,KAAC,WAAD,EAAa,QAAQ,CAAEX,YAAvB,EADJ,cAEI,YAAK,SAAS,CAAC,wBAAf,uBACA,KAAC,cAAD,EACK,UAAU,CAAE,oBAACY,KAAD,qBACT,sCAAkBA,KAAlB,GADS,EADjB,CAII,YAAY,CAAE,CAJlB,CAKI,KAAK,CAAEzB,cAAc,CAACE,MAAD,CALzB,CAMI,WAAW,CAAE,MANjB,CAOI,iBAAiB,CAAE,IAPvB,CAQI,MAAM,CAAE,GARZ,EADA,EAFJ,GAHJ,EAJJ,GAjCJ,GADJ,EADJ,CAgEH,CAED,cAAeD,CAAAA,OAAf","sourcesContent":["import React, { useState } from 'react'\r\nimport \"./Payment.css\"\r\nimport { useStateValue } from './StateProvider';\r\nimport CheckoutProduct from './CheckoutProduct';\r\nimport {Link} from \"react-router-dom\";\r\nimport { CardElement, useStripe, useElements } from \"@stripe/react-stripe-js\";\r\nimport CurrencyFormat from 'react-currency-format';\r\nimport { getBasketTotal} from \"./reducer\";\r\n\r\nfunction Payment() {\r\n    const [{basket, user}, dispatch] = useStateValue();\r\n    \r\n    const [error, setError] = useState(null);\r\n    const [disabled, setDisabled] = useState(true);\r\n\r\n    const stripe = useStripe();\r\n    const elements = useElements();\r\n\r\n    const handleSubmit = e => {\r\n        // do stripe\r\n\r\n    }\r\n\r\n    const handleChange = event => {\r\n        // Listen for changes in the CardElement\r\n        // and display any errors as the customer types their card details\r\n        setDisabled(event.empty);\r\n        setError(event.error ? event.error.message : \"\");\r\n    }\r\n\r\n    return (\r\n        <div className=\"payment\">\r\n            <div className=\"payment_container\">\r\n                <h1>\r\n                    Checkout (<Link to=\"/checkout\">{basket?.length} items</Link>)\r\n                </h1>\r\n                {/* Delivery address */}\r\n                <div className=\"payment_section\">\r\n                    <div className=\"payment_title\">\r\n                        <h3>Delivery Address</h3>\r\n                    </div>\r\n                    <div className=\"payment_address\">\r\n                        <p>{user?.email}</p>\r\n                        <p>123 React Ct</p>\r\n                        <o>Charlotte, NC, 69669</o>\r\n                    </div>\r\n                </div>\r\n                {/* Review items */}\r\n                <div className='payment_section'>\r\n                    <div className='payment_title'>\r\n                        <h3>Review items and delivery</h3>\r\n                    </div>\r\n                    <div className='payment_items'>\r\n                        {basket.map(item => (\r\n                            <CheckoutProduct\r\n                                title={item.title}\r\n                                image={item.image}\r\n                                price={item.price}\r\n                                rating={item.rating}\r\n                            />\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Payment method */}\r\n                <div className=\"payment_section\">\r\n                    <div className='payment_title'>\r\n                        <h3>Payment method</h3>\r\n                    </div>                    \r\n                    <div className=\"payment_details\">\r\n                        {/* implement stripe */}\r\n                        \r\n                        <form onSubmit=\"handleSubmit\">\r\n                            <CardElement onChange={handleChange}/>\r\n                            <div className=\"payment_priceContainer\">\r\n                            <CurrencyFormat\r\n                                 renderText={(value) => (\r\n                                    <h3>Order Total: {value}</h3>\r\n                                )}\r\n                                decimalScale={2}\r\n                                value={getBasketTotal(basket)}\r\n                                displayType={\"text\"}\r\n                                thousandSeparator={true}\r\n                                prefix={\"$\"}\r\n                            />                               \r\n\r\n                            </div>\r\n                        </form>\r\n\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Payment\r\n"]},"metadata":{},"sourceType":"module"}