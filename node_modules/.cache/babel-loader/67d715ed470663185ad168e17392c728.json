{"ast":null,"code":"import _toConsumableArray from\"C:\\\\Users\\\\Huan Bui\\\\Desktop\\\\amazon-clone\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\toConsumableArray.js\";import _objectSpread from\"C:\\\\Users\\\\Huan Bui\\\\Desktop\\\\amazon-clone\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\objectSpread2.js\";// For data layer\nexport var initialState={basket:[]};// Selector\nexport var getBasketTotal=function getBasketTotal(basket){return basket.reduce(function(amount,item){return item.price+amount;},0);};// reducer for pushing the data to data layer\nvar reducer=function reducer(state,action){switch(action.type){case'ADD_TO_BASKET':return _objectSpread(_objectSpread({},state),{},{basket:[].concat(_toConsumableArray(state.basket),[action.item])});case'REMOVE_FROM_BASKET':var index=state.basket.findIndex(function(basketItem){return basketItem.title===action.title;});var newBasket=_toConsumableArray(state.basket);if(index>=0){newBasket.splice(index,1);}else{console.warn(\"Can't remove product \");}return _objectSpread(_objectSpread({},state),{},{basket:newBasket});case'SET_USER':return _objectSpread(_objectSpread({},state),{},{user:action.user});case'EMPTY_BASKET':return _objectSpread(_objectSpread({},state),{},{basket:[]});default:return state;}};export default reducer;","map":{"version":3,"sources":["C:/Users/Huan Bui/Desktop/amazon-clone/src/reducer.js"],"names":["initialState","basket","getBasketTotal","reduce","amount","item","price","reducer","state","action","type","index","findIndex","basketItem","title","newBasket","splice","console","warn","user"],"mappings":"mRAAA;AACA,MAAO,IAAMA,CAAAA,YAAY,CAAG,CACxBC,MAAM,CAAG,EADe,CAArB,CAIP;AACA,MAAO,IAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACD,MAAD,QAC1BA,CAAAA,MAAM,CAACE,MAAP,CAAc,SAACC,MAAD,CAASC,IAAT,QAAkBA,CAAAA,IAAI,CAACC,KAAL,CAAaF,MAA/B,EAAd,CAAqD,CAArD,CAD0B,EAAvB,CAGP;AACA,GAAMG,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAACC,KAAD,CAAQC,MAAR,CAAmB,CAC/B,OAAOA,MAAM,CAACC,IAAd,EACI,IAAK,eAAL,CACI,sCACOF,KADP,MAEIP,MAAM,8BAAMO,KAAK,CAACP,MAAZ,GAAoBQ,MAAM,CAACJ,IAA3B,EAFV,GAIJ,IAAK,oBAAL,CACI,GAAMM,CAAAA,KAAK,CAAGH,KAAK,CAACP,MAAN,CAAaW,SAAb,CACV,SAACC,UAAD,QAAgBA,CAAAA,UAAU,CAACC,KAAX,GAAqBL,MAAM,CAACK,KAA5C,EADU,CAAd,CAGA,GAAIC,CAAAA,SAAS,oBAAOP,KAAK,CAACP,MAAb,CAAb,CAEA,GAAIU,KAAK,EAAI,CAAb,CAAgB,CACZI,SAAS,CAACC,MAAV,CAAiBL,KAAjB,CAAwB,CAAxB,EAEH,CAHD,IAGM,CACFM,OAAO,CAACC,IAAR,CAAa,uBAAb,EACH,CACD,sCACOV,KADP,MAEIP,MAAM,CAAEc,SAFZ,GAIJ,IAAK,UAAL,CACI,sCACOP,KADP,MAEIW,IAAI,CAAEV,MAAM,CAACU,IAFjB,GAIJ,IAAK,cAAL,CACI,sCACOX,KADP,MAEIP,MAAM,CAAC,EAFX,GAIJ,QACI,MAAOO,CAAAA,KAAP,CAjCR,CAmCH,CApCD,CAsCA,cAAeD,CAAAA,OAAf","sourcesContent":["// For data layer\r\nexport const initialState = {\r\n    basket : [],\r\n}\r\n\r\n// Selector\r\nexport const getBasketTotal = (basket) => \r\n    basket.reduce((amount, item) => item.price + amount, 0);\r\n\r\n// reducer for pushing the data to data layer\r\nconst reducer = (state, action) => {\r\n    switch(action.type){\r\n        case 'ADD_TO_BASKET': \r\n            return {\r\n                ...state,\r\n                basket: [...state.basket, action.item],\r\n            };\r\n        case 'REMOVE_FROM_BASKET':\r\n            const index = state.basket.findIndex(\r\n                (basketItem) => basketItem.title === action.title);\r\n\r\n            let newBasket = [...state.basket];\r\n\r\n            if (index >= 0) {\r\n                newBasket.splice(index, 1);\r\n\r\n            } else{\r\n                console.warn(\"Can't remove product \");\r\n            }\r\n            return {\r\n                ...state,\r\n                basket: newBasket\r\n            }\r\n        case 'SET_USER':\r\n            return{\r\n                ...state,\r\n                user: action.user\r\n            }\r\n        case 'EMPTY_BASKET':\r\n            return{\r\n                ...state,\r\n                basket:[]\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport default reducer;"]},"metadata":{},"sourceType":"module"}